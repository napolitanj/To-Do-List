(()=>{"use strict";function e(e){this.name=e,this.items=[]}function t(e,t,n){this.name=e,this.description=t,this.date=n}!function(){const n=document.getElementById("projectsFolder"),d=document.getElementById("itemList");let i=[];const c=new e("Today"),o=new e("This Week"),a=document.getElementById("today"),l=document.getElementById("week"),r=document.getElementById("addNewProject");function s(){n.innerText="",i.forEach((e=>n.appendChild(function(e){const t=document.createElement("p");return t.textContent=e.name,t.addEventListener("click",(()=>m(e))),C(),t}(e)))),C()}function m(e){const n=document.getElementById("editIcon"),c=document.getElementById("trashIcon"),o=document.getElementById("headerText");n.src="../dist/images/edit.png",c.src="../dist/images/trash.png",n.addEventListener("click",(()=>function(e){document.getElementById("projectHeader");const t=document.getElementById("headerText"),n=t.textContent,d=document.getElementById("editIcon"),i=document.getElementById("trashIcon");let c=document.createElement("input");return c.placeholder=n,t.textContent="",t.appendChild(c),d.src="",i.src="",c.addEventListener("keydown",(n=>{if(13===n.keyCode){if(""===c.value)return void alert("You must give your project a name");e.name=c.value,t.removeChild(c),m(e),s()}}))}(e))),c.addEventListener("click",(()=>function(e){h();const t=document.getElementById("creationWindow"),n=u("Are you sure you want to delete the project?"),c=document.createElement("div"),o=E("Yes"),a=E("No");t.classList.add("creationWindow"),t.style.padding="20px",c.classList.add("creationButtons"),t.appendChild(n),t.appendChild(c),c.appendChild(o),c.appendChild(a),o.addEventListener("click",(()=>function(e){h(),i=i.filter((t=>t.name!==e.name)),function(){const e=document.getElementById("editIcon"),t=document.getElementById("trashIcon"),n=document.getElementById("headerText");e.src="",t.src="",n.innerText="",d.innerText="",s()}(),C()}(e))),a.addEventListener("click",(()=>h()))}(e))),o.textContent=e.name,function(e){d.textContent="",function(e){e.items.forEach((t=>d.appendChild(function(e,t){const n=document.createElement("div"),i=document.createElement("div"),c=u(t.name),o=u(t.description),a=u(t.date),l=u("X");return n.classList.add("renderedItem"),i.classList.add("renderedItemText"),i.appendChild(c),i.appendChild(o),n.appendChild(i),n.appendChild(a),n.appendChild(l),l.addEventListener("click",(()=>function(e,t,n){t.items.splice(n),d.removeChild(e),C()}(n,e,t))),n}(e,t),C()))),C()}(e),d.appendChild(function(e){const n=document.createElement("p");return n.classList.add("renderedItem"),n.textContent="+ Add item",n.addEventListener("click",(()=>function(e){const n=document.getElementById("creationWindow"),d=document.createElement("div"),i=document.createElement("div"),c=document.createElement("input"),o=E("Add"),a=E("Cancel");return d.classList.add("creationWindow"),i.classList.add("creationButtons"),c.setAttribute("type","date"),c.setAttribute("id","due"),o.addEventListener("click",(()=>function(e){const n=document.getElementById("creationWindow"),d=new t(document.getElementById("title").value,document.getElementById("description").value,document.getElementById("due").value);""!==d.title&&""!==d.description&&""!==d.due?(n.removeChild(n.firstChild),e.items.push(d),m(e),C()):alert("Please complete all forms.")}(e))),a.addEventListener("click",(()=>h())),n.style.padding="20px;",i.appendChild(o),i.appendChild(a),d.appendChild(u("Title:")),d.appendChild(p("title")),d.appendChild(u("Description:")),d.appendChild(p("description")),d.appendChild(u("Due By:")),d.appendChild(c),d.appendChild(i),n.appendChild(d),n}(e))),n}(e))}(e),C()}function u(e){const t=document.createElement("p");return t.textContent=e,t}function p(e){const t=document.createElement("input");return t.setAttribute("id",e),t}function E(e){const t=document.createElement("button");return t.textContent=e,t}function h(){const e=document.getElementById("creationWindow");e.innerText="",console.log(e),e.style.padding="0px"}function C(){localStorage.setItem("storedProjects",JSON.stringify(i))}a.addEventListener("click",(()=>m(c))),l.addEventListener("click",(()=>m(o))),r.addEventListener("click",(()=>function(){const t=document.createElement("p"),d=document.createElement("div"),c=document.createElement("input");function o(){n.removeChild(d),r.style.visibility="visible"}r.style.visibility="hidden",t.textContent="X",t.addEventListener("click",(()=>o())),d.classList.add("projectInputWindow"),c.setAttribute("id","newProject"),c.addEventListener("keydown",(t=>{if(13===t.keyCode){const t=new e(c.value);i.push(t),o(),s(),C()}})),d.appendChild(c),d.appendChild(t),n.appendChild(d)}())),i=JSON.parse(localStorage.getItem("storedProjects")),s()}()})();