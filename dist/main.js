(()=>{"use strict";function e(e){this.name=e,this.items=[]}function t(e,t,n){this.name=e,this.description=t,this.date=n}function n(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function d(e){n(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function i(e){n(1,arguments);var t=d(e);return t.setHours(0,0,0,0),t}function o(e,t){n(2,arguments);var d=i(e),o=i(t);return d.getTime()===o.getTime()}!function(){const d=document.getElementById("projectsFolder"),i=document.getElementById("itemList");let c=[],a=new e("Today"),r=new e("This Week");c=JSON.parse(localStorage.getItem("storedProjects")),m(),c.forEach((e=>{e.items.forEach((e=>{let t=new Date;console.log(t),t=t.setHours(t.getHours()-3),console.log(typeof t,t,function(e){return n(1,arguments),o(e,Date.now())}(t)),console.log(t.toUTCString()),e.date===todaysDate&&(a.items.push(e),y())}))})),m();const s=document.getElementById("today"),l=document.getElementById("week"),u=document.getElementById("addNewProject");function m(){d.innerText="",c.forEach((e=>d.appendChild(function(e){const t=document.createElement("p");return t.textContent=e.name,t.addEventListener("click",(()=>p(e))),y(),t}(e)))),y()}function p(e){const n=document.getElementById("editIcon"),d=document.getElementById("trashIcon"),o=document.getElementById("headerText");n.src="../dist/images/edit.png",d.src="../dist/images/trash.png",n.addEventListener("click",(()=>function(e){const t=document.getElementById("headerText"),n=t.textContent,d=document.getElementById("editIcon"),i=document.getElementById("trashIcon");let o=document.createElement("input");return o.placeholder=n,t.textContent="",t.appendChild(o),d.src="",i.src="",o.addEventListener("keydown",(n=>{if(13===n.keyCode){if(""===o.value)return void alert("You must give your project a name");e.name=o.value,t.removeChild(o),p(e),m()}}))}(e))),d.addEventListener("click",(()=>function(e){f();const t=document.getElementById("creationWindow"),n=h("Are you sure you want to delete the project?"),d=document.createElement("div"),o=g("Yes"),a=g("No");t.classList.add("creationWindow"),t.style.padding="20px",d.classList.add("creationButtons"),t.appendChild(n),t.appendChild(d),d.appendChild(o),d.appendChild(a),o.addEventListener("click",(()=>function(e){f(),c=c.filter((t=>t.name!==e.name)),function(){const e=document.getElementById("editIcon"),t=document.getElementById("trashIcon"),n=document.getElementById("headerText");e.src="",t.src="",n.innerText="",i.innerText="",m()}(),y()}(e))),a.addEventListener("click",(()=>f()))}(e))),o.textContent=e.name,function(e){i.textContent="",function(e){e.items.forEach((t=>i.appendChild(function(e,t){const n=document.createElement("div"),d=document.createElement("div"),o=h(t.name),c=h(t.description),a=h(t.date),r=h("X");return n.classList.add("renderedItem"),d.classList.add("renderedItemText"),d.appendChild(o),d.appendChild(c),n.appendChild(d),n.appendChild(a),n.appendChild(r),r.addEventListener("click",(()=>function(e,t,n){let d=n;t.items=t.items.filter((e=>e!==d)),i.removeChild(e),y()}(n,e,t))),console.log(e.items),n}(e,t),y()))),y()}(e),i.appendChild(function(e){const n=document.createElement("p");return n.classList.add("renderedItem"),n.textContent="+ Add item",n.addEventListener("click",(()=>function(e){const n=document.getElementById("creationWindow"),d=document.createElement("div"),i=document.createElement("div"),o=document.createElement("input"),c=g("Add"),a=g("Cancel");return d.classList.add("creationWindow"),i.classList.add("creationButtons"),o.setAttribute("type","date"),o.setAttribute("id","date"),c.addEventListener("click",(()=>function(e){const n=document.getElementById("creationWindow"),d=new t(document.getElementById("title").value,document.getElementById("description").value,document.getElementById("date").value);""!==d.title&&""!==d.description&&""!==d.date?(n.removeChild(n.firstChild),e.items.push(d),p(e),y()):alert("Please complete all forms.")}(e))),a.addEventListener("click",(()=>f())),n.style.padding="20px;",i.appendChild(c),i.appendChild(a),d.appendChild(h("Title:")),d.appendChild(E("title")),d.appendChild(h("Description:")),d.appendChild(E("description")),d.appendChild(h("Due By:")),d.appendChild(o),d.appendChild(i),n.appendChild(d),n}(e))),n}(e))}(e),y()}function h(e){const t=document.createElement("p");return t.textContent=e,t}function E(e){const t=document.createElement("input");return t.setAttribute("id",e),t}function g(e){const t=document.createElement("button");return t.textContent=e,t}function f(){const e=document.getElementById("creationWindow");e.innerText="",e.style.padding="0px"}function y(){localStorage.setItem("storedProjects",JSON.stringify(c))}s.addEventListener("click",(()=>p(a))),l.addEventListener("click",(()=>p(r))),u.addEventListener("click",(()=>function(){const t=document.createElement("p"),n=document.createElement("div"),i=document.createElement("input");function o(){d.removeChild(n),u.style.visibility="visible"}u.style.visibility="hidden",t.textContent="X",t.addEventListener("click",(()=>o())),n.classList.add("projectInputWindow"),i.setAttribute("id","newProject"),i.addEventListener("keydown",(t=>{if(13===t.keyCode){const t=new e(i.value);c.push(t),o(),m(),y()}})),n.appendChild(i),n.appendChild(t),d.appendChild(n)}()))}()})();